Vamos começar com  a primeira declaração de tarefa do Domínio 4,  Comparar os modelos de preços da AWS.  Em uma lição anterior,  falamos sobre o AWS Well-Architected Framework  e os seis pilares  e mencionamos que nos aprofundaríamos  no pilar Otimização de Custos no Domínio 4.  Novamente, fundamentos.  O que é otimização de custos?  Otimização de custos é a capacidade de executar sistemas  para entregar valor comercial com o menor preço.  A AWS oferece várias maneiras de executar  um ambiente otimizado em termos de custos  com serviços da AWS, como AWS Budgets,  AWS relatório de uso e custo,  AWS Cost Explorer,  instâncias reservadas,  relatórios de instâncias reservadas e muito mais.  A AWS também fornece recursos econômicos,  como instâncias spot, instâncias reservadas  e armazenamento econômico, como Amazon S3  e S3 Glacier e Glacier Deep Archive.  A AWS também nos permite combinar oferta com demanda  com AWS Lambda, Amazon EC2 Auto Scaling  e AWS Auto Scaling.  E você pode otimizar ao longo do tempo usando o AWS Trusted Advisor,  relatórios de custo e uso e muito mais.  O pilar Otimização de custos tem princípios de criação  e práticas recomendadas que ajudarão neste domínio,  mas especialmente no mundo real.  Como sempre, os fundamentos são importantes.  Então vamos falar rapidamente sobre o pilar Otimização de custos.  Para obter a otimização de custos,  você deve garantir  que está dimensionando corretamente sua infraestrutura.  O dimensionamento correto é escolher as instâncias corretas  para seus recursos atuais,  mas também para os recursos que você planeja usar.  Então, talvez você esteja usando um tamanho de instância do EC2 maior  quando tudo o que você precisa para atender sua demanda  é um tamanho de instância pequeno.  Ao dimensionar e escolher corretamente o tipo de instância,  mas também ao escolher o tipo de instância mais barato  que atenda aos requisitos de desempenho, você pode economizar dinheiro.  Você também deve garantir que está aumentando a elasticidade  e usando recursos apenas quando esses recursos forem necessários,  o que dá a você um modelo “pague pelo que usar”.  Novamente, usar instâncias menores  em vez de menos instâncias maiores para sua carga de trabalho  pode reduzir seus custos,  mas também usar o auto scaling para aumentar verticalmente as instâncias  quando a demanda aumenta e depois reduzir  quando a demanda diminui reduz ainda mais os custos.  Outra necessidade de otimização de custos  é escolher o modelo de preço correto,  que é o foco desta declaração de tarefa,  e a escolha do modelo de preços correto entra em ação  depois que você dimensiona corretamente suas instâncias  e configura o auto scaling.  A AWS oferece vários modelos de preços diferentes,  como instâncias reservadas, instâncias sob demanda,  instâncias spot,  Savings Plans,  hosts dedicados,  instâncias dedicadas e reservas de capacidade.  As instâncias sob demanda são exatamente o que parecem.  Você pode optar por usá-las quando necessário.  Elas são ótimas se você tiver horários de início e término flexíveis  e são ótimas para aplicações com requisitos incertos,  além de para cargas de trabalho de curto prazo.  Também são ótimas para aplicações  que não toleram interrupções  e essa é uma palavra-chave para o exame.  Mas você pode economizar dinheiro escolhendo Instâncias Reservadas,  mas as Instâncias Reservadas vêm  com um compromisso de 1 ou 3 anos.  Porém, com esse compromisso você recebe um preço menor.  E há também as instâncias spot,  que são o modelo de preço mais barato,  com até 90% de desconto no preço sob demanda.  A AWS usa sua capacidade extra do EC2  e vende essa capacidade em instâncias spot  e o preço é baseado na quantidade de capacidade extra existente.  Portanto, seu preço de instâncias spot muda conforme a capacidade muda.  As instâncias spot são ótimas para aplicações flexíveis,  aplicações que podem tem suporte para interrupções  ou toleram falhas.  E para aplicações que precisam de um preço realmente baixo.  As instâncias spot são o modelo de preços mais barato,  mas as aplicações precisam ser flexíveis com interrupções.  O preço da instância reservada pode economizar  até 72% no preço sob demanda,  mas você tem esse compromisso de 1 a 3 anos.  O prazo de 3 anos é mais econômico  do que 1 ano  e você pode pagar antecipadamente pelas instâncias reservadas,  sem adiantamento ou com adiantamento parcial.  E é importante saber que você paga essa reserva  estando suas instâncias em execução ou não.  As instâncias reservadas podem ser usadas nas suas Regiões  ou nas suas Zonas de Disponibilidade  usando reservas de capacidade.  As instâncias reservadas Regionais aplicam o desconto  a qualquer Zona de Disponibilidade na Região,  juntamente com as instâncias reservadas conversíveis,  que são um tipo de instâncias reservadas  que adicionam flexibilidade adicional  para alterar famílias de instâncias, sistemas operacionais  ou locações durante o prazo da instância reservada.  Você também pode agendar suas reservas  onde sua tarifa será reduzida durante um tempo,  para que você pague pelo compromisso dentro desse cronograma.  Agendar instâncias reservadas  ajuda a combinar sua reserva de capacidade  com uma programação recorrente previsível.  Para o exame,  saiba que as Standard Reserved Instances  oferecem o desconto mais significativo  em comparação com as instâncias sob demanda.  Para fins de cobrança, o recurso de cobrança consolidada  do AWS Organizations trata todas as contas  em uma organização como uma.  Isso significa que todas as contas na organização  podem receber o benefício de cobrança por hora das instâncias reservadas  compradas por qualquer outra conta.  As instâncias reservadas são ótimas para aplicações  com uso em estado estável,  aplicações com necessidades de longo prazo  e são muito mais baratas do que as instâncias sob demanda,  e você pode realmente usar todos esses modelos de preços  ao mesmo tempo.  Portanto, as instâncias reservadas podem cobrir  seu ambiente de produção.  As instâncias spot podem ser usadas  quando há um aumento na demanda  e você pode usar as instâncias sob demanda conforme necessário.  Essa é uma ótima maneira de otimizar seu ambiente  conhecendo e compreendendo o modelo de preços  e escolhendo o modelo de preços certo para seu ambiente.  Vejamos alguns outros modelos de preços também.  Hosts dedicados, que já mencionamos algumas vezes,  são considerados um modelo de preços,  mas é mais uma diferença técnica.  Lembre-se de que os hosts dedicados são reservados apenas para você  e você paga para que esse host dedicado seja dedicado a você,  ele não é compartilhado com outros clientes da AWS.  E com hosts dedicados você paga pelo host,  não pelas instâncias individuais em execução nesse host.  Instâncias dedicadas são instâncias que você paga por hora  pela instância em execução em um tenant único.  As instâncias agendadas são ótimas para aplicações  que precisam estar disponíveis regularmente.  Os Saving Plans são ótimos para o uso da computação  e você também pode usar os Savings Plans  para o Lambda e o Amazon ECS2.  A AWS também oferece um serviço chamado AWS Trusted Advisor  que monitora sua infraestrutura  e pode fazer recomendações  sobre como torná-la mais otimizada.  E, claro, use o AWS Cost Explorer  para monitorar seus custos.  Voltemos ao pilar Otimização de custos.  Você deve combinar o armazenamento com o uso,  além do dimensionamento correto.  Reduzir seu armazenamento pode economizar dinheiro  e você pode combinar nosso uso de armazenamento  com uma storage class específica.  Novamente, a AWS oferece várias storage classes,  portanto, escolha a correta, como Amazon S3,  Amazon EBS, AWS Storage Gateway, Amazon EFS, CloudFront  e também várias opções de transferência de dados.  E é claro que devemos calcular nossa transferência de dados  dentro e fora das Regiões AWS.  A AWS oferece preços diferenciados para transferência de dados  da AWS para a internet para ajudar a reduzir  os custos de transferência de dados.  O tráfego de dados destinado  aos seus data centers on-premises  é considerado transferência de dados  e resulta em uma cobrança na sua fatura mensal.  Você pode arquitetar partes da sua infraestrutura  para usar serviços da AWS como CloudFront e Direct Connect.  Por exemplo, você pode eliminar  essas cobranças de transferência de dados usando o Direct Connector  que os custos associados ao tráfego de dados  por meio da conexão privada estão incluídos no serviço.  Da mesma forma, se você usar o Amazon S3 para entrega de conteúdo,  o uso do CloudFront reduzirá a latência  entre os usuários finais e o bucket do S3.  E o ponto principal é que, ao avaliar  continuamente sua arquitetura AWS e compreender  onde incorrem os custos de transferência de dados,  você pode adaptar sua implantação  para reduzir os custos gerais de operação  e, ao mesmo tempo, melhorar a experiência do usuário final.  Por último, meça e monitore sua infraestrutura,  porque ela provavelmente estará mudando,  então você precisa de medidas  para monitorar e medir seu uso e seus custos.  É possível monitorar a utilização  de CPU, RAM, armazenamento e muito mais  para identificar instâncias que podem ser reduzidas  ou que precisam ser aumentadas.  A AWS fornece o CloudWatch para rastrear suas métricas  e definir alarmes e tomar ações imediatamente.  Você também tem o Trusted Advisor  que mencionamos há pouco.  A ferramenta do AWS Well-Architected Framework Tool e o Cost Explorer.  É crucial definir métricas  e metas de destino, definir e impor a estratégia de marcação,  usar tags de alocação de custos  e verificar regularmente  se há alterações na infraestrutura.  Para esta declaração de tarefa,  aprofunde-se no princípio do design de otimização de custos  que já abordamos algumas vezes.  Vamos abordar também as práticas recomendadas de otimização de custos.  Primeiro, defina e aplique a marcação de alocação de custos  em todo o seu ambiente  para poder ver quais recursos estão custando mais.  A AWS também recomenda o uso de uma estrutura de conta eficaz,  isso significa que você precisa saber quais são seus objetivos finais  e projetar para atingir esses objetivos,  além de definir e usar métricas para acompanhar o progresso  para atendar a essas metas.  Outra grande prática recomendada é permitir que suas equipes  projetem sua arquitetura com base no custo.  Portanto, informe às suas equipes qual é o custo  e dê a elas acesso para que possam ver o que estão criando  e quais custos estão associados a essa criação.  Depois de atribuir a uma equipe ou pessoa a responsabilidade pelos custos,  você verá que a maioria se torna muito mais consciente dos custos.  E, por último, a AWS recomenda que você crie um CCOE,  um Cloud Center of Excellence,  e esta é uma equipe que se mantém atualizada  sobre as práticas recomendadas da AWS,  novos lançamentos e muito mais  para garantir que você esteja usando a AWS  da maneira mais eficiente e econômica.  Ao abrir suas despesas,  você torna nossas equipes mais responsáveis  e mais conscientes para escolher recursos mais econômicos  que ainda correspondam ao seu fornecimento à sua demanda,  mas também garante que você está otimizando  sua conta e infraestrutura da AWS ao longo do tempo.  Vamos começar com a segunda declaração de tarefa  e falar sobre recursos  de faturamento, orçamento e gerenciamento de custos.