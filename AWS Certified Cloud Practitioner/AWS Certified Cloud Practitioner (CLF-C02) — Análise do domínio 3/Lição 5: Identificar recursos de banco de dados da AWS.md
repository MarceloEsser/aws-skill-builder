Vamos começar com a quarta declaração de tarefa que aborda os serviços de banco de dados da AWS. Quero mencionar novamente os fundamentos deste exame. Você deve entender o que é um banco de dados e como funciona. Vamos começar com o Amazon RDS, que é um banco de dados como serviço. O Amazon RDS fornece instâncias de banco de dados gerenciado. A AWS cuida do gerenciamento e temos acesso a uma instância de banco de dados gerenciado que oferece muitos benefícios e melhorias de desempenho. Não precisamos gerenciar o hardware físico, o sistema operacional e muito mais. O RDS oferece suporte para MySQL, MariaDB, PostgreSQL, Oracle, Microsoft SQL Server e Amazon Aurora. Você pode escolher qual mecanismo de banco de dados funciona com os requisitos da sua aplicação. Os bancos de dados do Amazon RDS vêm em diferentes tipos, tamanhos e famílias, assim como as instâncias do Amazon EC2. As instâncias do RDS podem estar em uma ou em várias Zonas de Disponibilidade. Para uma instância do RDS, você aloca armazenamento para uso dessa instância, portanto é um armazenamento dedicado a ela. E o acesso para e às suas instâncias de banco de dados é controlado por meio de grupos de segurança. As instâncias do Amazon RDS em uma única Zona de Disponibilidade podem ficar vulneráveis a uma falha nessa única Zona de Disponibilidade porque a instância e o armazenamento estão em uma única Zona de Disponibilidade. Mas você pode escolher uma configuração multi-AZ que alocará hardware secundário em uma Zona de Disponibilidade diferente. Essa segunda instância de banco de dados é chamada de instância de réplica em espera. O RDS usa uma replicação síncrona da instância primária e de espera. Você também pode configurar uma réplica de leitura do RDS que proporciona dois benefícios principais, de desempenho e de disponibilidade. Uma réplica de leitura é uma réplica somente leitura da instância do banco de dados RDS, e as réplicas de leitura são para operações de leitura e os dados são replicados de forma assíncrona. A replicação síncrona é concluída em multi-AZs e os dados são gravados na instância primária e replicados na réplica de leitura em espera ao mesmo tempo. No exame, se você observar réplicas de leitura assíncronas, a replicação síncrona seria a escolha para qualquer questão com um ambiente ou cenário multi-AZ. Outro serviço de banco de dados relacional é o Amazon Aurora, mas tem algumas diferenças e melhorias em relação ao Amazon RDS. Primeiro, a arquitetura do Aurora é muito diferente do Amazon RDS. O Amazon Aurora usa a arquitetura base de um cluster e é compatível com mecanismos MySQL e PostgreSQL. É um cluster formado por uma só instância primária e zero ou mais réplicas de leitura. Pode parecer o mesmo que o Amazon RDS, mas as réplicas de leitura do Aurora podem fornecer os benefícios das leituras e também os benefícios do multi-AZ. Elas podem ser usadas para melhorar a disponibilidade e as operações de leitura no cluster. Segundo, o armazenamento do Aurora é diferente do RDS porque não usa armazenamento local para a computação. Ele usa um volume de cluster compartilhado, o que oferece provisionamento mais rápido, melhor disponibilidade e melhor desempenho. Aurora Serverless é um serviço do Aurora e fornece uma versão do produto de banco de dados do Amazon Aurora em que você não precisa provisionar ou gerenciar as instâncias de banco de dados. E sua arquitetura funciona de maneira um pouco diferente. O Aurora Serverless fornece o mesmo armazenamento de cluster compartilhado para que você obtenha novamente seis cópias de seus dados em três Zonas de Disponibilidade. Mas você não provisiona nosso cluster da mesma maneira. Para o Aurora Serverless, você usa uma unidade de capacidade do Aurora (ACU). As ACUs do Aurora fornecem uma certa quantidade de computação e um volume correspondente de memória. Para um cluster sem servidor do Aurora, você pode escolher uma ACU mínima e outra máxima e, em seguida, o cluster sem servidor do Aurora será dimensionado entre esse valor mínimo e máximo e adicionará e removerá a capacidade no cluster com base na carga. Um recurso muito interessante do Aurora Serverless é que a ACU pode até chegar a zero e ser pausada após um período de inatividade. Essa é uma ótima economia porque, quando o cluster está pausado, apenas o armazenamento em uso é cobrado. Os bancos de dados globais Aurora são um recurso dos clusters provisionados do Aurora que permitem que os dados sejam replicados globalmente, fornecendo melhorias significativas de objetivo de ponto de recuperação e aprimoramentos de objetivo de tempo de recuperação para continuidade de negócio e planejamento de recuperação de desastres. Além disso, os bancos de dados globais podem fornecer melhorias de desempenho para os clientes, com os dados localizados mais próximos deles, em formato somente leitura. A replicação ocorre na camada de armazenamento e geralmente leva menos de 1 segundo entre todas as Regiões AWS. Vamos prosseguir e falar sobre os bancos de dados não relacionais que a AWS oferece. Você sabe qual serviço da AWS é esse? O Amazon DynamoDB é um banco de dados NoSQL como produto de serviço, é um serviço público e fica na zona pública da AWS. A AWS gerencia o DynamoDB para você. Você não precisa gerenciar nenhum servidor ou infraestrutura e o DynamoDB pode lidar com dados simples de chave-valor ou dados estruturais. O DynamoDB também oferece suporte a opções de scaling usando capacidade provisionada com controles manuais ou usando o modo sob demanda que cuida do scaling para você. O DynamoDB é altamente resiliente em diversas Zonas de Disponibilidade em uma Região ou você pode configurar uma tabela global para adicionar resiliência global, mas isso terá um custo extra. Vamos também cobrir bancos de dados baseados em memória. Em primeiro lugar, está o Amazon ElastiCache, que é um cache gerenciado em memória para melhorias de desempenho para leituras. Ele oferece suporte a dois mecanismos de cache populares diferentes, Redis e memcacheD. Portanto, se você vir uma pergunta sobre Memcached ou Redis, sua resposta provavelmente será ElastiCache. Ele foi projetado para armazenar leituras e fornecer esses resultados do cache da memória e melhorar o desempenho. Portanto, em vez de consultar o banco de dados todas as vezes para leituras, você pode armazenar os resultados em cache e entregá-los mais rapidamente. O ElastiCache também pode ser usado para armazenar o estado da sessão do usuário. E mencionamos sessões no primeiro domínio sob scaling e alta disponibilidade. Mas você pode armazenar os estados da sessão do usuário usando o ElastiCache, e ele pode ser usado como uma ferramenta de melhoria de desempenho ou com arquiteturas tolerantes a falhas. Vamos falar também sobre o Amazon DynamoDB Accelerator (DAX), porque o ElastiCache também pode ser usado com o DynamoDB, mas a AWS criou o DAX para ser usado especificamente com o DynamoDB. O Amazon DynamoDB foi projetado para ser um banco de dados de baixa manutenção e alto desempenho que fornece acesso aos seus dados em milissegundos. Mas há locais de borda que precisam desses dados mais rapidamente, como microssegundos, e também para sessões de alta leitura, e o DAX fornece um cache em memória para o DynamoDB. Aqui está uma dica rápida para o exame. O DAX foi projetado para cargas de trabalho sensíveis à latência e de alta leitura. Você pode ver a seguinte pergunta: qual é o melhor produto de cache para usar com o DynamoDB? A resposta é DAX. O DAX não é bom para aplicações que precisam de leituras fortemente consistentes. O DAX é mais para leituras eventualmente consistentes. Antes de prosseguirmos e falarmos sobre ferramentas de migração de banco de dados, vamos abordar também o Amazon Redshift. O Redshift é uma solução de armazenamento de dados em escala de petabytes da AWS. É um mecanismo de banco de dados baseado em colunas para cargas de trabalho analíticas. A maioria dos bancos de dados RDS é usada para OLTP, que é o processamento de transação on-line. Mas o Redshift foi projetado para OLAP, que é um processamento analítico on-line, e não é o tipo de banco de dados em que você atualiza registros individuais. O Redshift é usado para análise de armazenamento de dados e tudo é armazenado em colunas. E os bancos de dados baseados em colunas são ótimos para consultas, porque todos os dados estão em colunas. Bancos de dados baseados em linhas são ótimos para processamento de tipos de transações e bancos de dados baseados em colunas para análises. O Redshift é baseado no PostgreSQL, mas é um processamento analítico on-line. O Redshift não é usado para o processamento transacional on-line. O Redshift usa uma arquitetura de cluster e descarrega e faz upload de dados no S3. Ele também pode aceitar dados do DynamoDB, do Database Migration Service e de outros bancos de dados e do Amazon Kinesis. E para acompanhar o Amazon S3, podemos usar o Redshift Spectrum para realizar consultas diretamente no S3. Aqui está outra dica sobre palavras-chave de exames. Saiba que Redshift é um data warehouse usado para transações analíticas e de resumo e pode ser dimensionado para quase qualquer carga de trabalho necessária e é um banco de dados em escala de petabytes. Para o exame, você também deve saber quais ferramentas de migração de banco de dados da AWS estão disponíveis para ajudar você a migrar sua aplicação para a AWS. A AWS oferece a família de serviços AWS Snow para migrar grandes quantidades de dados dentro e fora da AWS. AWS Snowcone, Snowball e Snowmobile são uma coleção de dispositivos físicos que ajudam a migrar grandes quantidades de dados para dentro e para fora da nuvem sem depender de redes. Isso ajuda você a aplicar uma ampla gama de serviços da AWS para análises, sistemas de arquivos e arquivos aos seus dados. Aí vai uma pergunta. Qual serviço da família AWS Snow você usaria para mover terabytes para petabytes de dados para a AWS usando dispositivos com recursos de armazenamento e computação? O AWS Snowball Edge é um dispositivo de computação de borda e migração de dados que vem em duas opções, Snowball Edge Storage Optimized e Snowball Edge Compute Optimized. O AWS SnowCone serve apenas para 8 terabytes e o AWS Snowmobile serve para petabytes a exabytes de dados. O Snowball Edge oferece suporte a tipos específicos de instância do Amazon EC2, bem como funções do AWS Lambda, para que os clientes possam desenvolver e testar na AWS e, em seguida, implantar aplicações em dispositivos em locais remotos para coletar, pré-processar e retornar os dados. Os casos de uso comuns incluem migração de dados, transporte de dados, agrupamento de imagens, captura de fluxo de sensores de IoT e machine learning. Outro serviço de migração é o AWS Database Migration Service (DMS), que é um serviço gerenciado capaz de migração de dados e conversão de esquema. Tradicionalmente, uma migração de banco de dados é feita por meio de backup e restauração. Você precisa interromper todas as operações de entrada e saída em seu banco de dados, fazer o backup e, em seguida, fazer uma restauração e, em seguida, atualizar suas aplicações para o novo endpoint do banco de dados. E isso exigirá uma interrupção completa durante a migração. Você pode usar a replicação e configurar a instância de replicação entre os bancos de dados de origem e de destino. Em seguida, permita que a replicação replique todos os dados existente e migre também quaisquer novas transações. E isso geralmente tem pouquíssimo tempo de inatividade. Você simplesmente atualiza a aplicação para apontar para o novo endpoint. Mas esse processo de replicação exige muita administração e é difícil de configurar corretamente. Portanto, a AWS oferece o DMS que cuida dessa sobrecarga e configuração para você. Você cria uma instância de replicação e define um endpoint de origem e um endpoint de destino com qualquer autenticação que possa ser necessária. E todos esses dados são migrados da origem para o destino, e as operações continuam nesse banco de dados de origem até que você decida migrar tudo para o destino. A AWS também fornece a AWS Schema Conversion Tool para ajudar na transformação entre diferentes mecanismos de banco de dados para sua migração. O DMS é ótimo para aumentar ou diminuir seus recursos com pouco tempo de inatividade ou migrar bancos de dados locais ou da AWS outras plataformas em nuvem ou on-premises. E a ferramenta de conversão de esquema nos permite mover dados entre diferentes mecanismos de banco de dados. Antes de encerrar, vamos falar também sobre o AWS DataSync. O AWS DataSync facilita e agiliza a movimentação de grandes quantidades de dados on-line entre o armazenamento on-premises e o Amazon S3, Amazon EFS ou Amazon FSx para Windows File Server. Tarefas manuais relacionadas à transferência de dados podem retardar as migrações e sobrecarregar as operações de TI. O DataSync lida automaticamente com muitas dessas tarefas, incluindo scripts de tarefas de cópia, agendamento e monitoramento de transferências, validação de dados e otimização da utilização da rede, e pode transferir centenas de terabytes e milhões de arquivos em velocidades até 10 vezes maiores do que ferramentas de código aberto, pela internet ou por links do AWS Direct Connect. Você pode usar o DataSync para migrar conjuntos ou arquivos de dados ativos para a AWS, transferir dados para a nuvem para obter análises e processamentos pontuais ou replicar dados para a AWS para arquivamento ou continuidade de negócio. Nos serviços de banco de dados, é importante diferenciar quais serviços se encaixam em cenários específicos. Isso envolve comparar serviços como Amazon RDS, Amazon DynamoDB e Amazon Redshift entre si, bem como compará-los com o gerenciamento do seu banco de dados em instâncias do EC2. Aqui estão algumas perguntas a serem consideradas. Quais vantagens você obtém ao usar o serviço gerenciado? Como os serviços gerenciados diferem de um mecanismo de banco de dados instalado em uma instância, quando se trata de personalização, gerenciamento e desempenho? Quais são as limitações de cada estilo do banco de dados? Entenda como esses serviços se encaixarão em suas próprias criações, ou em criações hipotéticas, e qual o papel que cada um poderia desempenhar. Não existe um tamanho único para todas as soluções. Os serviços gerenciados na AWS podem variar, ao considerá-los, é importante observar não apenas a variedade de serviços gerenciados, mas também os vários níveis de gerenciamento que eles fornecem. Da mesma forma que o Amazon DynamoDB e o Amazon RDS são gerenciados de modo diferente, o Amazon EKS, o AWS Fargate e tantos outros também são diferentes. Avalie quais são os benefícios, como você pode usá-los em conjunto em uma arquitetura, o que eles complementam ou substituem e como tópicos como disponibilidade, failover e consistência de dados entram em jogo. Os recursos e opções de personalização de cada serviço de banco de dados serão muito úteis para atender aos seus requisitos nos diferentes cenários e casos de uso. Vamos começar com a quinta declaração de tarefa e falar tudo sobre os serviços de rede da AWS.