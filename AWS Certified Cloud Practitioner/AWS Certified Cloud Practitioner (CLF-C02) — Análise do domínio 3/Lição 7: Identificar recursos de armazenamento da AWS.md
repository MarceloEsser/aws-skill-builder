Vamos começar com a sexta declaração de tarefa que aborda os serviços de armazenamento da AWS. Novamente, é fundamental entender o que é armazenamento na nuvem. O armazenamento na nuvem é um modelo de computação em nuvem que armazena dados por meio de um provedor de computação em nuvem que gerencia e opera o armazenamento de dados como um serviço, proporcionando agilidade, escala global e durabilidade, com acesso aos dados “a qualquer hora e em qualquer lugar”. Como o armazenamento na nuvem funciona? O armazenamento na nuvem é adquirido de um fornecedor de nuvem, que tem e opera a capacidade de armazenamento de dados e a entrega pela internet em um modelo de pagamento conforme o uso. Esses fornecedores de armazenamento na nuvem gerenciam capacidade, segurança e durabilidade para tornar os dados acessíveis a suas aplicações em todo o mundo. Há benefícios do armazenamento na nuvem, como nenhum hardware ou armazenamento para provisionar, capacidade, desempenho e retenção sob demanda, gerenciamento do ciclo de vida do armazenamento para mover dados para níveis de custo mais baixos e pagar apenas pelo armazenamento que você precisa e usa. E existem requisitos de armazenamento na nuvem, como durabilidade, disponibilidade e segurança, para garantir que os dados estejam seguros e disponíveis quando necessário. Existem tipos de armazenamento em nuvem que você precisa conhecer para o exame. Armazenamento de objetos, armazenamento de arquivos e armazenamento de blocos. Cada um oferece suas próprias vantagens e tem seus próprios casos de uso. Vamos começar com o armazenamento de objetos. Soluções de armazenamento de objetos como o Amazon S3 são um serviço resiliente global, portanto, é uma plataforma de armazenamento global. O Amazon S3 é executado em todas as Regiões AWS e seus dados também são armazenados em uma Região específica e podem ser acessados de qualquer lugar. E lembre-se de que o Amazon S3 é um serviço público e é executado na zona pública da AWS. Seus dados armazenados no S3 são replicados em diferentes Zonas de Disponibilidade nessa Região. O S3 pode tolerar uma falha de uma Zona de Disponibilidade e também replicar dados entre Regiões. Ele foi projetado para armazenar praticamente uma quantidade ilimitada de dados e vários usuários podem acessar seus dados no S3. E as palavras-chave para o S3 são quantidade ilimitada de dados. Com o Amazon S3 você pode criar buckets e adicionar objetos a eles. Os buckets do S3 armazenam seus objetos como um contêiner. Os objetos podem ser vídeos, fotos, arquivos, grandes conjuntos de dados e muito mais. E o tamanho do objeto no S3 pode ser de 0 bytes a 5 terabytes. Vamos mencionar a conformidade também porque quando você armazena objetos em um bucket do S3, esse bucket do S3 está em uma Região específica e as leis e regras dessa Região também se aplicam ao seu bucket do S3. Ao criar um bucket do S3, você deve adicionar um nome globalmente exclusivo para esse bucket. Nenhum bucket pode ter o mesmo nome e outro bucket, independentemente da Região ou de onde no mundo esse bucket do S3 esteja. Aí vai uma pergunta. Qual recurso do Amazon S3 você pode usar para garantir que os objetos armazenados em seu bucket do S3 não sejam substituídos ou excluídos acidentalmente? O S3 tem muitos recursos excelentes para organizar e gerenciar seus dados para diferentes casos de uso, para reforçar a segurança e atender aos requisitos de conformidade. Os recursos do S3 podem anexar tags de metadados a objetos, mover e armazenar dados nas storage classes do S3, configurar e aplicar controles de acesso a dados, proteger dados contra usuários não autorizados, executar análises de big data, monitorar dados nos níveis de objeto e bucket e visualizar o uso do armazenamento e tendências de atividades em sua organização. Os objetos podem ser acessados por meio de pontos de acesso do S3 ou diretamente por meio do nome de host do bucket. Mas para responder à pergunta, se você ativou o versionamento do S3 durante a criação do bucket, toda vez que fizer upload de um objeto, ele criará automaticamente uma versão dele. Portanto, se você substituir acidentalmente um objeto, ainda poderá usar o versionamento para restaurar o objeto anterior. Para o seu exame, reserve um tempo para entender as diferentes storage classes e casos de uso do S3. Se pedirem para você escolher a storage class mais econômica para armazenar arquivos por um longo período e precisar de um tempo de recuperação de 12 horas, qual storage class do S3 você vai escolher? Amazon S3 Glacier ou Amazon S3 Glacier Deep Archive? Glacier Deep Archive é a storage class de menor custo e suporta retenção de longo prazo e os dados podem ser restaurados em 12 horas. Se pedirem para você escolher um sistema de armazenamento de objeto, escolha o Amazon S3, pois o S3 é um sistema de armazenamento de objetos. Não é um sistema de arquivos como o Amazon EFS ou um sistema de armazenamento em bloco como o Amazon EBS. Vamos dar uma olhada nisso também. O armazenamento de arquivos é outra opção de armazenamento na AWS. Algumas aplicações precisam acessar arquivos compartilhados e exigem um sistema de arquivos. Geralmente, esse tipo de armazenamento é compatível com um servidor de armazenamento anexado à rede. Soluções de armazenamento de arquivos como o Amazon EFS são ideais para alguns casos de uso, por exemplo, grandes repositórios de conteúdo, ambientes de desenvolvimento, armazenamento de mídia ou diretórios-base do usuário. O Amazon EFS é útil com a maioria das infraestruturas da AWS, porque fornece sistemas de arquivos baseados em rede que podem ser montados em instâncias do EC2 do Linux e usados por várias instâncias ao mesmo tempo. Os dados são armazenados fora da instância do Amazon EC2, mas ficam dentro da Amazon VPC para fornecer propriedades de scaling e autocorreção. Ele pode ser acessado usando métodos híbridos como VPN, Direct Connect e peering de VPC, e você também pode usar políticas de ciclo de vida para mover dados entre duas storage classes diferentes no Amazon EFS. O Amazon FSx também é um servidor de arquivos semelhante ao Amazon EFS. Linux é uma palavra-chave para o Amazon EFS. O EFS é um sistema de arquivos compartilhado para Linux e você não pode usar o Amazon EFS para Windows. Portanto, a AWS criou o FSx para Windows e é uma unidade de compartilhamento de sistema de arquivos do Windows totalmente gerenciada que oferece suporte ao protocolo de bloco de mensagens do servidor e ao sistema de arquivos da tecnologia de rede do Windows. Ele oferece suporte à integração do Active Directory e listas de controle de acesso. Ele é construído em uma unidade de estado sólido (SSD) e é um sistema de arquivos distribuído altamente dimensionável para Windows gerenciado pela AWS. Ele pode aumentar verticalmente até 10 gigabytes por segundo e milhões de IOPs. Ele é altamente disponível e pode ser configurado para multi-AZ e pode ser acessado localmente e seus dados são copiados diariamente para S3. Há também o Amazon FSx para Lustre. O Lustre é um tipo de sistema de arquivos distribuído paralelamente para computação em grande escala. O nome Lustre vem de Linux e cluster, então isso ajudará você a se lembrar dele. É para instâncias do Linux e cluster é para computação em larga escala. Para o exame, saiba que o Lustre é ótimo para machine learning e computação de alto desempenho e tem latência inferior a um milissegundo. O Lustre também é um ótimo sistema de arquivos para realizar processamento de vídeo, modelagem financeira, automação de projetos, tudo o que precisa de um alto nível de distribuição. E há também outra opção que é o armazenamento em bloco. Algumas aplicações empresariais, como bancos de dados, geralmente exigem armazenamento dedicado e de baixa latência para cada host. Esse tipo de armazenamento é comparável ao armazenamento anexado diretamente ou a uma rede de área de armazenamento. As soluções de armazenamento na nuvem baseadas em blocos, como o Amazon EBS são provisionadas com cada servidor virtual e oferecem a latência ultrabaixa exigida para cargas de trabalho de alto desempenho. Em uma lição anterior, mencionamos que o Amazon EC2 tem armazenamento local incluído na AMI e esse armazenamento é chamado de armazenamento de conexão direta ou armazenamento de conexão local. Esses são discos físicos conectados diretamente a um dispositivo. Esse armazenamento está conectado diretamente ao host do Amazon EC2 e é chamado de armazenamento de instâncias. Esse tipo de armazenamento é muito rápido, porque está acoplado ao hardware. Mas tem muitos problemas. Se o disco falhar, se o hardware falhar, se a instância for movida entre dois hosts do EC2 diferentes, o armazenamento poderá ser perdido. Portanto, temos um tipo alternativo de armazenamento que podemos usar com nossas instâncias do EC2, que é o armazenamento anexado à rede, e é aqui que os volumes são criados e anexados à instância do EC2 pela rede, e a AWS usa Amazon EBS para isso. O EBS não é tão rápido quanto o armazenamento de instância, mas o EBS é altamente resiliente e separado do hardware da instância. Portanto, problemas com o host do EC2 não afetarão o EBS. Você também pode ouvir o termo armazenamento efêmero e isso significa armazenamento temporário. Não confie que esse armazenamento seja persistente. O armazenamento de instância é um exemplo de armazenamento temporário e o EBS é um exemplo de armazenamento persistente. O EBS é um volume apresentado ao sistema operacional como uma coleção de blocos, mas não há estrutura, apenas uma coleção de blocos endereçáveis, e esses blocos podem ser montados, o que significa que sistemas de arquivos podem ser criados sobre o armazenamento de blocos. Você também pode inicializar de um volume do EBS, é por isso que a maioria das instâncias do EC2 usa um volume do EBS, armazenamento em bloco, como volume de inicialização e é o que armazena o sistema operacional. Aí vai uma pergunta. Que tipo de volume do EBS é recomendado para a maioria das cargas de trabalho e também pode ser usado como volume de inicialização? O Amazon EBS fornece vários tipos de volume que diferem em desempenho e preço. A resposta seria SSD de uso geral, porque é recomendado para a maioria das cargas de trabalho. Ele pode ser usado como volumes de inicialização do sistema e é melhor para ambientes de desenvolvimento e teste. Mas também existe o SSD de IOPS provisionado, destinado a aplicações de negócios essenciais que exigem desempenho de IOPS sustentado. É melhor usado para grandes cargas de trabalho de banco de dados. E há o HDD com rendimento otimizado, destinado ao streaming de cargas de trabalho que exigem throughput consistente e rápida a um preço baixo. Big data, data warehouses e processamento de logs são ótimos para isso, mas não podem ser um volume de inicialização. E, por último, o Cold HDD, destinado ao armazenamento orientado à throughput para grandes volumes de dados que são acessados com pouca frequência ou em cenários onde o menor custo de armazenamento é importante. Não pode ser um volume de inicialização. Você também pode usar snapshots do EBS para criar um backup pontual. Vamos falar também sobre o sistema de arquivos em cache da AWS, que é o AWS Storage Gateway. AWS Storage Gateway é um serviço que nos permite conectar nosso armazenamento de data center on-premises a um serviço de armazenamento da AWS e ajuda a migrar parte ou toda a sua plataforma de armazenamento para AWS ou oferece suporte à extensão de sua plataforma de armazenamento para AWS. O Storage Gateway é um dispositivo virtual executado em sua plataforma de virtualização on-premises, para que você possa executá-lo em VMware, ESXi, EC2 e assim por diante. Portanto, o Storage Gateway é um produto que você baixa e configura em seu local on-premises e se comunica com a AWS pela internet. Existem três tipos de Storage Gateway disponíveis. Storage Gateway File Gateway que armazena arquivos como objetos no S3, mas tem um cache local para os dados acessados mais recentemente no local. O File Gateway é uma ótima opção para Windows e pode ser acessado usando o protocolo do SME e quando você faz upload de dados com seu Storage Gateway, esses dados são armazenados no S3. O volume gateway é configurado da mesma forma que o gateway de arquivos. Então você configura e baixa a imagem da máquina virtual, mas, ao acessá-la, você não está acessando compartilhamentos de arquivos, mas volumes. Esses volumes são acessados pelo protocolo iSCSI, ou Internet Small Computer Systems Interface, que é um padrão de redes de armazenamento com base em um protocolo de internet para vinculação de instalações de armazenamento de dados. O iSCSI fornece acesso em nível de bloco a dispositivos de armazenamento, transportando comandos SCSI pela rede TCP/IP e geralmente é usado com produtos SAN. Portanto, o armazenamento conectado à rede e o volume gateway funcionam muito bem com servidores. E você tem duas opções para volume gateway. Gateway Stored Volumes para armazenar todos os seus dados em um dispositivo de volume gateway e depois os snapshots são obtidos na AWS e armazenados no S3. É ótimo para usar quando você deseja seus dados on-premises, mas deseja snapshots e backups no S3. E também há o Gateway Cache Volume para armazenar cópias primárias de seus dados na AWS, depois baixar e armazenar em cache os dados acessados com frequência no próprio volume gateway. O último tipo de storage gateway é o Virtual Tape Library Gateway para apresentar uma biblioteca de fitas virtuais por iSCSI para qualquer software de backup compatível. Isso acarreta uma sobrecarga administrativa muito alta, é caro e deve ser armazenado fora do local para recuperação de desastres e práticas recomendadas. Ele nos permite apresentar uma unidade de fita virtual, que é armazenada no S3 e pode ser usada para migrar seus dados para a AWS durante um período. Vamos encerrar esta lição e falar sobre backups de armazenamento. O backup e a recuperação são essenciais para garantir que seus dados estejam protegidos e acessíveis, mas acompanhar os crescentes requisitos de capacidade pode ser um desafio constante. O armazenamento na nuvem traz baixo custo, alta durabilidade e dimensionamento extremo para soluções de backup e recuperação. O Amazon S3 oferece uma variedade de storage classes que oferecem compensações entre preço, durabilidade, desempenho e velocidade de acesso. Cada storage class oferece diferentes custos, desempenho, velocidade de recuperação, resiliência e assim por diante, mas é uma ótima opção e armazenamento de baixo custo que você pode usar para backups. Políticas integradas de gerenciamento de dados, como o Gerenciamento de ciclo de vida de objetos do S3, podem migrar dados automaticamente para níveis de custo mais baixos com base nas configurações de frequência ou tempo. E cofres de arquivo, como Glacier e Glacier Deep Archive, podem ser criados para ajudar a cumprir requisitos legais ou regulamentares. Esses benefícios permitem enormes possibilidades de dimensionamento em setores como serviços financeiros, saúde e mídia, que produzem grandes volumes de dados com necessidades de retenção de longo prazo. Há também o AWS Backup, um serviço totalmente gerenciado que ajuda a centralizar e automatizar a proteção de dados e atender aos requisitos de conformidade nos serviços da AWS e no local. Usando este serviço, você pode configurar políticas de backup e monitorar atividades de seus recursos da AWS em um só lugar. Ele permite automatizar e consolidar tarefas de backup que eram executadas anteriormente serviço por serviço e elimina a necessidade de criar scripts personalizados e processos manuais. Os serviços de armazenamento da AWS variam para diferentes casos de uso, funcionalidades, otimizações, gerenciamento e muito mais. Reserve algum tempo para entender como cada um dos serviços funciona, não apenas como os serviços funcionam e suas limitações, mas também para analisar seu uso real. Os serviços de armazenamento da AWS variam em seus casos de uso, funcionalidade, otimizações, gerenciamento e muito mais. Você deve dedicar algum tempo para entender como cada um desses serviços funciona e como eles se comunicam, como podem funcionar entre si e, claro, como eles se encaixam nos tipos de arquiteturas que você construirá. Vamos começar com a sétima declaração de tarefa.